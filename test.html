<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Drag and Drop</title>
  <style>
    .container {
      display: flex;
      gap: 10px;
    }
    .box {
      width: 100px;
      height: 100px;
      background-color: lightblue;
      text-align: center;
      line-height: 100px;
      border: 2px solid #333;
      cursor: move;
    }
  </style>
</head>
<body>
  <div class="container" id="container">
    <div class="box" draggable="true" id="box1">Div 1</div>
    <div class="box" draggable="true" id="box2">Div 2</div>
    <div class="box" draggable="true" id="box3">Div 3</div>
  </div>

  <script>
    const container = document.getElementById('container');
    let dragged;

    container.addEventListener('dragstart', (e) => {
      dragged = e.target;
      e.target.style.opacity = 0.5;
    });

    container.addEventListener('dragend', (e) => {
      e.target.style.opacity = "";
    });

    container.addEventListener('dragover', (e) => {
      e.preventDefault();
    });

    container.addEventListener('drop', (e) => {
      e.preventDefault();
      if (e.target.classList.contains('box') && e.target !== dragged) {
        const draggedIndex = [...container.children].indexOf(dragged);
        const targetIndex = [...container.children].indexOf(e.target);

        if (draggedIndex < targetIndex) {
          container.insertBefore(dragged, e.target.nextSibling);
        } else {
          container.insertBefore(dragged, e.target);
        }
      }
    });
  </script>
</body>
</html>
